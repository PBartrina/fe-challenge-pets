<section>
  <h2>Pets</h2>

  <form class="tools" aria-label="Sorting tools" (submit)="$event.preventDefault()">
    <label>
      Sort by
      <select #sortByRef [value]="sortBy()" (change)="onChangeSortBy(sortByRef.value)">
        <option value="name">Name</option>
        <option value="kind">Kind</option>
        <option value="weight">Weight</option>
        <option value="height">Height</option>
        <option value="length">Length</option>
      </select>
    </label>

    @if (sortBy() !== 'kind') {
      <label>
        Order
        <select #orderRef [value]="sortOrder()" (change)="onChangeSortOrder(orderRef.value)">
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </label>
    } @else {
      <label>
        Kind
        <select #kindRef [value]="kindFilter()" (change)="onChangeKindFilter(kindRef.value)">
          <option value="">All</option>
          <option value="dog">Dog</option>
          <option value="cat">Cat</option>
        </select>
      </label>
    }

    <span class="spacer" aria-hidden="true"></span>

    <label>
      Page size
      <select #limitRef [value]="limit()" (change)="onChangeLimit(limitRef.value)">
        <option value="6">6</option>
        <option value="12">12</option>
        <option value="24">24</option>
        <option value="48">48</option>
      </select>
    </label>

    <nav class="pager" aria-label="Pagination">
      <button type="button" (click)="onPrevPage()" [disabled]="!canPrev()">Prev</button>
      <span class="page-indicator">Page {{ page() }}</span>
      <button type="button" (click)="onNextPage()" [disabled]="!canNext()">Next</button>
    </nav>
  </form>

  @let list = pets() ?? [];

  @if (list.length === 0) {
    <p>No pets found.</p>
  } @else {
    <div class="grid">
      @for (p of list; track p.id) {
        <ui-pet-card [pet]="p" />
      }
    </div>
  }
</section>

